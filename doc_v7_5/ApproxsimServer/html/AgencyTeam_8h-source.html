<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Approxsim: AgencyTeam.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>AgencyTeam.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef APPROXSIM_AGENCYTEAM_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define APPROXSIM_AGENCYTEAM_H</span>
00003 <span class="preprocessor"></span>
00004 <span class="comment">//System</span>
00005 <span class="preprocessor">#include &lt;iosfwd&gt;</span>
00006 <span class="preprocessor">#include &lt;vector&gt;</span>
00007 
00008 <span class="comment">// Own</span>
00009 <span class="preprocessor">#include "Element.h"</span>
00010 <span class="preprocessor">#include "GridEffect.h"</span>
00011 <span class="preprocessor">#include "LatLng.h"</span>
00012 <span class="preprocessor">#include "Time.h"</span>
00013 
00014 <span class="comment">// Forward Declarations</span>
00015 <span class="keyword">class </span><a class="code" href="classAgency.html">Agency</a>;
00016 <span class="keyword">class </span><a class="code" href="classBuffer.html">Buffer</a>;
00017 <span class="keyword">class </span><a class="code" href="classCamp.html">Camp</a>;
00018 <span class="keyword">class </span><a class="code" href="classGrid.html">Grid</a>;
00019 <span class="keyword">class </span><a class="code" href="classGridDataHandler.html">GridDataHandler</a>;
00020 
00021 
<a name="l00028"></a><a class="code" href="classAgencyTeam.html">00028</a> <span class="keyword">class </span><a class="code" href="classAgencyTeam.html">AgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classElement.html">Element</a> {
00029 <span class="keyword">protected</span>:
<a name="l00030"></a><a class="code" href="classAgencyTeam.html#p0">00030</a>      <a class="code" href="classAgency.html">Agency</a>* <a class="code" href="classAgencyTeam.html#p0">mAgency</a>;   
00031 
<a name="l00033"></a><a class="code" href="classAgencyTeam.html#p1">00033</a>      <a class="code" href="classCamp.html">Camp</a> *<a class="code" href="classAgencyTeam.html#p1">mCamp</a>;
00034 
<a name="l00036"></a><a class="code" href="classAgencyTeam.html#p2">00036</a>      <a class="code" href="classLatLng.html">LatLng</a> <a class="code" href="classAgencyTeam.html#p2">mGoal</a>;
00037 
<a name="l00039"></a><a class="code" href="classAgencyTeam.html#p3">00039</a>      <a class="code" href="classTime.html">Time</a> <a class="code" href="classAgencyTeam.html#p3">mStartTime</a>;
00040 
<a name="l00042"></a><a class="code" href="classAgencyTeam.html#p4">00042</a>      <span class="keywordtype">double</span> <a class="code" href="classAgencyTeam.html#p4">mCapacityPPD</a>;
00043 
<a name="l00045"></a><a class="code" href="classAgencyTeam.html#p5">00045</a>      <span class="keywordtype">double</span> <a class="code" href="classAgencyTeam.html#p5">mResponseTimeSecs</a>;
00046 
<a name="l00048"></a><a class="code" href="classAgencyTeam.html#p6">00048</a>      <a class="code" href="classGrid.html">Grid</a>* <a class="code" href="classAgencyTeam.html#p6">mGrid</a>;     
00049 
<a name="l00051"></a><a class="code" href="classAgencyTeam.html#p7">00051</a>      <span class="keyword">const</span> <a class="code" href="classGridDataHandler.html">GridDataHandler</a>* <a class="code" href="classAgencyTeam.html#p7">mGridDataHandler</a>;     
00052 
<a name="l00054"></a><a class="code" href="classAgencyTeam.html#p8">00054</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#p8">mHasStartTime</a>;
00055      
<a name="l00057"></a><a class="code" href="classAgencyTeam.html#p9">00057</a>      <span class="keywordtype">double</span> <a class="code" href="classAgencyTeam.html#p9">mViolenceThreshold</a>;
00058 
<a name="l00060"></a><a class="code" href="classAgencyTeam.html#p10">00060</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#p10">mDeployed</a>;
00061 
<a name="l00063"></a><a class="code" href="classAgencyTeam.html#p11">00063</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#p11">mDeparted</a>;
00064 
<a name="l00066"></a><a class="code" href="classAgencyTeam.html#p12">00066</a>      <a class="code" href="classTime.html">Time</a> <a class="code" href="classAgencyTeam.html#p12">mDeployTime</a>;
00067 
<a name="l00069"></a><a class="code" href="classAgencyTeam.html#p13">00069</a>      <a class="code" href="classTime.html">Time</a> <a class="code" href="classAgencyTeam.html#p13">mDepartTime</a>;
00070 
<a name="l00080"></a><a class="code" href="classAgencyTeam.html#p14">00080</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#p14">mOwnInitiative</a>;
00081 
00082 <span class="keyword">protected</span>:
00083      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#b0">canWorkAt</a>(<a class="code" href="classShape.html">Shape</a>&amp; loc) <span class="keyword">const</span>;
00084 
00085 <span class="keyword">public</span>:
00086      <a class="code" href="classAgencyTeam.html#a0">AgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d);
00087 
<a name="l00089"></a><a class="code" href="classAgencyTeam.html#a1">00089</a>      <span class="keyword">virtual</span> <a class="code" href="classAgencyTeam.html#a1">~AgencyTeam</a>() {};
00090 
00091      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a2">deploy</a>();
00092 
<a name="l00096"></a><a class="code" href="classAgencyTeam.html#a3">00096</a>      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a3">depart</a>() { <a class="code" href="classAgencyTeam.html#p11">mDeparted</a> = <span class="keyword">true</span>; }
00097 
<a name="l00103"></a><a class="code" href="classAgencyTeam.html#a4">00103</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#a4">deployed</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p10">mDeployed</a>; }
00104 
<a name="l00110"></a><a class="code" href="classAgencyTeam.html#a5">00110</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#a5">departed</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p11">mDeparted</a>; }
00111 
<a name="l00117"></a><a class="code" href="classAgencyTeam.html#a6">00117</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#a6">ownInitiative</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p14">mOwnInitiative</a>; }
00118 
<a name="l00124"></a><a class="code" href="classAgencyTeam.html#a7">00124</a>      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a7">setAgency</a>(<a class="code" href="classAgency.html">Agency</a>* agency) { <a class="code" href="classAgencyTeam.html#p0">mAgency</a> = agency; }
00125 
<a name="l00134"></a><a class="code" href="classAgencyTeam.html#a8">00134</a>      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a8">prepareForSimulation</a>(<a class="code" href="classGrid.html">Grid</a>&amp; grid, <span class="keyword">const</span> <a class="code" href="classGridDataHandler.html">GridDataHandler</a>&amp; gdh) { <a class="code" href="classAgencyTeam.html#p6">mGrid</a> = &amp;grid; <a class="code" href="classAgencyTeam.html#p7">mGridDataHandler</a> = &amp;gdh; }
00135 
00136      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a9">extract</a>(<a class="code" href="classBuffer.html">Buffer</a> &amp;buf) <span class="keyword">const</span>;
00137      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a10">addObject</a>(<a class="code" href="classDataObject.html">DataObject</a>&amp; toAdd, int64_t initiator);
00138      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a11">removeObject</a>(<span class="keyword">const</span> <a class="code" href="classReference.html">Reference</a>&amp; toRemove, int64_t initiator);
00139      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a12">modify</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d);
00140      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a13">reset</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d);
00141 
<a name="l00149"></a><a class="code" href="classAgencyTeam.html#a14">00149</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#a14">operational</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#a15">present</a>() &amp;&amp; <a class="code" href="classAgencyTeam.html#a16">hasStartTime</a>() &amp;&amp; !<a class="code" href="classAgencyTeam.html#p2">mGoal</a>.<a class="code" href="classLatLng.html#a3">nowhere</a>(); }
00150 
<a name="l00157"></a><a class="code" href="classAgencyTeam.html#a15">00157</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#a15">present</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p10">mDeployed</a> &amp;&amp; !<a class="code" href="classAgencyTeam.html#p11">mDeparted</a>; }
00158 
<a name="l00164"></a><a class="code" href="classAgencyTeam.html#a16">00164</a>      <span class="keywordtype">bool</span> <a class="code" href="classAgencyTeam.html#a16">hasStartTime</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p8">mHasStartTime</a>; }
00165 
<a name="l00171"></a><a class="code" href="classAgencyTeam.html#a17">00171</a>      <a class="code" href="classTime.html">Time</a> <a class="code" href="classAgencyTeam.html#a17">startTime</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p3">mStartTime</a>; }
00172 
<a name="l00178"></a><a class="code" href="classAgencyTeam.html#a18">00178</a>      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a18">setStartTime</a>(<a class="code" href="classTime.html">Time</a> t) { <a class="code" href="classAgencyTeam.html#p3">mStartTime</a> = t; <a class="code" href="classAgencyTeam.html#p8">mHasStartTime</a> = <span class="keyword">true</span>; }
00179 
00180      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a19">setGoal</a>(<a class="code" href="classLatLng.html">LatLng</a> goal);
00181      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a19">setGoal</a>(<a class="code" href="classCamp.html">Camp</a> *camp);
00182 
<a name="l00188"></a><a class="code" href="classAgencyTeam.html#a21">00188</a>      <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a21">setCapacity</a>(<span class="keywordtype">double</span> cap) { <a class="code" href="classAgencyTeam.html#p4">mCapacityPPD</a> = cap; }
00189 
<a name="l00195"></a><a class="code" href="classAgencyTeam.html#a22">00195</a>      <span class="keywordtype">double</span> <a class="code" href="classAgencyTeam.html#a22">getCapacity</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p4">mCapacityPPD</a>; }
00196 
<a name="l00202"></a><a class="code" href="classAgencyTeam.html#a23">00202</a>      <span class="keywordtype">double</span> <a class="code" href="classAgencyTeam.html#a23">getResponseTime</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p5">mResponseTimeSecs</a>; }
00203 
00204      <a class="code" href="classTime.html">Time</a> getDeployTime()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p12">mDeployTime</a>; }
00205      <a class="code" href="classTime.html">Time</a> getDepartTime()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classAgencyTeam.html#p13">mDepartTime</a>; }
00206 
<a name="l00213"></a><a class="code" href="classAgencyTeam.html#a26">00213</a>      <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classAgencyTeam.html#a26">calculateNeed</a>() { <span class="keywordflow">return</span> 0; }
00214 
00221      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAgencyTeam.html#a27">act</a>(<a class="code" href="classTime.html">Time</a> now) = 0;
00222 
00223      <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="classAgencyTeam.html#a0">operator &lt;&lt; </a>(std::ostream&amp; o, <span class="keyword">const</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a>&amp; a);
00224 };
00225 
<a name="l00232"></a><a class="code" href="classFoodAgencyTeam.html">00232</a> <span class="keyword">class </span><a class="code" href="classFoodAgencyTeam.html">FoodAgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a> {
00233 <span class="keyword">public</span>:
<a name="l00240"></a><a class="code" href="classFoodAgencyTeam.html#a0">00240</a>      <a class="code" href="classFoodAgencyTeam.html#a0">FoodAgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d) : <a class="code" href="classAgencyTeam.html">AgencyTeam</a>(d) {}
00241      <span class="keywordtype">double</span> <a class="code" href="classFoodAgencyTeam.html#a1">calculateNeed</a>();
00242      <span class="keywordtype">void</span> <a class="code" href="classFoodAgencyTeam.html#a2">act</a>(<a class="code" href="classTime.html">Time</a> now);
00243 };
00244 
00245 
00246 
<a name="l00253"></a><a class="code" href="classWaterAgencyTeam.html">00253</a> <span class="keyword">class </span><a class="code" href="classWaterAgencyTeam.html">WaterAgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a> {
00254 <span class="keyword">private</span>:
<a name="l00256"></a><a class="code" href="classWaterAgencyTeam.html#r0">00256</a>      <span class="keywordtype">double</span> <a class="code" href="classWaterAgencyTeam.html#r0">mRepairCapacity</a>;
00257 
00258 <span class="keyword">public</span>:
<a name="l00265"></a><a class="code" href="classWaterAgencyTeam.html#a0">00265</a>      <a class="code" href="classWaterAgencyTeam.html#a0">WaterAgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d) : <a class="code" href="classAgencyTeam.html">AgencyTeam</a>(d), <a class="code" href="classWaterAgencyTeam.html#r0">mRepairCapacity</a>(0) {}
00266      <span class="keywordtype">double</span> <a class="code" href="classWaterAgencyTeam.html#a1">calculateNeed</a>();
00267      <span class="keywordtype">void</span> <a class="code" href="classWaterAgencyTeam.html#a2">act</a>(<a class="code" href="classTime.html">Time</a> now);
00268 };
00269 
00270 
00271 
<a name="l00278"></a><a class="code" href="classShelterAgencyTeam.html">00278</a> <span class="keyword">class </span><a class="code" href="classShelterAgencyTeam.html">ShelterAgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a> {
00279 <span class="keyword">public</span>:
<a name="l00286"></a><a class="code" href="classShelterAgencyTeam.html#a0">00286</a>      <a class="code" href="classShelterAgencyTeam.html#a0">ShelterAgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d) : <a class="code" href="classAgencyTeam.html">AgencyTeam</a>(d) {}
00287      <span class="keywordtype">void</span> <a class="code" href="classShelterAgencyTeam.html#a1">act</a>(<a class="code" href="classTime.html">Time</a> now);
00288 };
00289 
00290 
00291 
<a name="l00298"></a><a class="code" href="classHealthAgencyTeam.html">00298</a> <span class="keyword">class </span><a class="code" href="classHealthAgencyTeam.html">HealthAgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a> {
00299 <span class="keyword">public</span>:
<a name="l00306"></a><a class="code" href="classHealthAgencyTeam.html#a0">00306</a>      <a class="code" href="classHealthAgencyTeam.html#a0">HealthAgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d) : <a class="code" href="classAgencyTeam.html">AgencyTeam</a>(d) {}
00307      <span class="keywordtype">double</span> <a class="code" href="classHealthAgencyTeam.html#a1">calculateNeed</a>();
00308      <span class="keywordtype">void</span> <a class="code" href="classHealthAgencyTeam.html#a2">act</a>(<a class="code" href="classTime.html">Time</a> now);
00309 };
00310 
00311 
00312 
<a name="l00319"></a><a class="code" href="classPoliceAgencyTeam.html">00319</a> <span class="keyword">class </span><a class="code" href="classPoliceAgencyTeam.html">PoliceAgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a> {
00320 <span class="keyword">public</span>:
<a name="l00327"></a><a class="code" href="classPoliceAgencyTeam.html#a0">00327</a>      <a class="code" href="classPoliceAgencyTeam.html#a0">PoliceAgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d) : <a class="code" href="classAgencyTeam.html">AgencyTeam</a>(d) {}
00328      <span class="keywordtype">void</span> <a class="code" href="classPoliceAgencyTeam.html#a1">act</a>(<a class="code" href="classTime.html">Time</a> now);
00329 };
00330 
00331 
00332 
<a name="l00347"></a><a class="code" href="classCustomAgencyTeam.html">00347</a> <span class="keyword">class </span><a class="code" href="classCustomAgencyTeam.html">CustomAgencyTeam</a> : <span class="keyword">public</span> <a class="code" href="classAgencyTeam.html">AgencyTeam</a> {
00348 <span class="keyword">private</span>:
<a name="l00349"></a><a class="code" href="classCustomAgencyTeam.html#r0">00349</a>      <span class="keyword">const</span> <a class="code" href="classReference.html">Reference</a>*        <a class="code" href="classCustomAgencyTeam.html#r0">mTarget</a>;   
<a name="l00350"></a><a class="code" href="classCustomAgencyTeam.html#r1">00350</a>      std::vector&lt;GridEffect&gt; <a class="code" href="classCustomAgencyTeam.html#r1">mEffects</a>;  
00351 
<a name="l00353"></a><a class="code" href="classCustomAgencyTeam.html#r2">00353</a>      std::map&lt;std::string, double&gt; <a class="code" href="classCustomAgencyTeam.html#r2">mSeverities</a>;
00354 
00355      <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#d0">createEffects</a>();
00356 
00357 <span class="keyword">public</span>:
00364      <a class="code" href="classCustomAgencyTeam.html#a0">CustomAgencyTeam</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d);
00365 
<a name="l00373"></a><a class="code" href="classCustomAgencyTeam.html#a1">00373</a>      <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a1">addEffect</a>(eAllPV a, <span class="keywordtype">double</span> si, <a class="code" href="classEthnicFaction.html">EthnicFaction</a>* f) { <a class="code" href="classCustomAgencyTeam.html#r1">mEffects</a>.push_back(<a class="code" href="classGridEffect.html">GridEffect</a>(a, si, f)); }
00374 
00375      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a2">extract</a>(<a class="code" href="classBuffer.html">Buffer</a>&amp; b) <span class="keyword">const</span>;
00376      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a3">addObject</a>(<a class="code" href="classDataObject.html">DataObject</a>&amp; toAdd, int64_t initiator);
00377      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a4">removeObject</a>(<span class="keyword">const</span> <a class="code" href="classReference.html">Reference</a>&amp; toRemove, int64_t initiator);
00378      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a5">modify</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d);
00379      <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a6">reset</a>(<span class="keyword">const</span> <a class="code" href="classDataObject.html">DataObject</a>&amp; d);
00380 
00381      <span class="keywordtype">void</span> <a class="code" href="classCustomAgencyTeam.html#a7">act</a>(<a class="code" href="classTime.html">Time</a> now);
00382 };
00383 
00384 <span class="preprocessor">#endif   // APPROXSIM_AGENCYTEAM_H</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jan 31 14:27:32 2007 for Approxsim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
