<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Approxsim: Environment.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.4 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>Environment.h</h1><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef APPROXSIM_ENVIRONMENT</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define APPROXSIM_ENVIRONMENT</span>
00003 <span class="preprocessor"></span>
00004 <span class="comment">// System</span>
00005 <span class="preprocessor">#include &lt;string&gt;</span>
00006 
00007 <span class="comment">// Own</span>
00008 <span class="preprocessor">#include "ClientValidator.h"</span>
00009 
00010 <span class="keyword">namespace </span>boost {
00011      <span class="keyword">namespace </span>filesystem {
00012           <span class="keyword">class </span>path;
00013      }
00014      <span class="keyword">namespace </span>program_options {
00015           <span class="keyword">class </span>options_description;
00016           <span class="keyword">class </span>variables_map;
00017      }
00018 };
00019 <span class="keyword">namespace </span>fs = boost::filesystem;
00020 <span class="keyword">namespace </span>po = boost::program_options;
00021 
<a name="l00029"></a><a class="code" href="classEnvironment.html">00029</a> <span class="keyword">class </span><a class="code" href="classEnvironment.html">Environment</a> {
00030 <span class="keyword">private</span>:
00032      <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="classEnvironment.html#v0">APPROXSIM_VERSION</a>;
00034      <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="classEnvironment.html#v1">DEFAULT_VERSION</a>;
00035 
00041      <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classEnvironment.html#v2">initStarted</a>;
00042 
00044      <span class="keyword">static</span> fs::path <a class="code" href="classEnvironment.html#v3">sExecutable</a>;
00046      <span class="keyword">static</span> fs::path <a class="code" href="classEnvironment.html#v4">sInstallDir</a>;
00048      <span class="keyword">static</span> fs::path <a class="code" href="classEnvironment.html#v5">sConfigFile</a>;
00050      <span class="keyword">static</span> fs::path <a class="code" href="classEnvironment.html#v6">sDumpDir</a>;
00052      <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classEnvironment.html#v7">sForceConfigFileRead</a>;
00053 
00055      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#v8">sServerAddress</a>;
00057      <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classEnvironment.html#v9">sServerPort</a>;
00058 
00060      <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classEnvironment.html#v10">useDispatcher</a>;
00062      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#v11">sDispatcherHost</a>;
00064      <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classEnvironment.html#v12">sDispatcherPort</a>;
00065 
00066      <span class="comment">// The client validator to use.</span>
00067      <span class="keyword">static</span> <a class="code" href="classClientValidator.html">ClientValidator</a>* spClientValidator;
00068      
00069      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#h0">initInstallDir</a>(<span class="keyword">const</span> fs::path&amp; executable);
00070      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#h1">initConfig</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv);
00071 
00072      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#h2">setConfigFile</a>(<span class="keyword">const</span> std::string&amp; file);
00073      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#h3">setDumpDir</a>(<span class="keyword">const</span> std::string&amp; dirname);
00074 
00075      <span class="comment">// Note that the following two function are defined in two</span>
00076      <span class="comment">// separate files optionsPosix.cpp and optionsWin.cpp</span>
00077      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#h4">addPlatformOptions</a>(po::options_description* invocation,
00078                                     po::options_description* configuration,
00079                                     po::options_description* development);
00080      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#h5">handlePlatformOptions</a>(po::variables_map* vm);
00081 
00082      <span class="keyword">static</span> <span class="keyword">const</span> fs::path&amp; <a class="code" href="classEnvironment.html#h6">getInstallDir</a>();
00083      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#h7">getNativePath</a>(<span class="keyword">const</span> fs::path&amp; path);
00084      <span class="keyword">static</span> std::string getInstalledPath(<span class="keyword">const</span> fs::path&amp; installedPath);
00085 
00086      <span class="keyword">static</span> fs::path <a class="code" href="classEnvironment.html#h9">importNativePath</a>(<span class="keyword">const</span> std::string&amp; nativePath);
00087      <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classEnvironment.html#h10">isFile</a>(<span class="keyword">const</span> fs::path&amp; path);
00088 <span class="keyword">public</span>:
00090      <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="classEnvironment.html#s0">DEFAULT_SCHEMA_NAMESPACE</a>;
00092      <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="classEnvironment.html#s1">XSD_NAMESPACE</a>;
00094      <span class="keyword">static</span> <span class="keyword">const</span> std::string <a class="code" href="classEnvironment.html#s2">APPROXSIM_PROTOCOL_SCHEMA</a>;
00095 
00096      <span class="comment">// File operations.</span>
00097      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#h7">getNativePath</a>(<span class="keyword">const</span> std::string&amp; path);
00098      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#e1">getDumpDir</a>();
00099 
00100      <span class="comment">// Misc utilities</span>
00101      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#e2">milliSleep</a>(<span class="keywordtype">int</span> secs);
00102      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#e3">getVersion</a>();
00103      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classEnvironment.html#e4">initEnvironment</a>(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>** argv);
00104      <span class="keyword">static</span> std::string <a class="code" href="classEnvironment.html#e5">getProgramName</a>();
00105 
00106      <span class="comment">// Net addresses</span>
00107      <span class="keyword">static</span> <span class="keywordtype">int</span> getServerPort() {<span class="keywordflow">return</span> <a class="code" href="classEnvironment.html#v9">sServerPort</a>;}
00108      <span class="keyword">static</span> <span class="keyword">const</span> std::string&amp; getServerAddress() {<span class="keywordflow">return</span> <a class="code" href="classEnvironment.html#v8">sServerAddress</a>;}
00109      <span class="keyword">static</span> <a class="code" href="classClientValidator.html">ClientValidator</a>* getClientValidator() {<span class="keywordflow">return</span> spClientValidator;}
00110      
00111      <span class="keyword">static</span> <span class="keywordtype">bool</span> getUseDispatcher() {<span class="keywordflow">return</span> !getDispatcherHost().empty();}
00112      <span class="keyword">static</span> <span class="keyword">const</span> std::string&amp; getDispatcherHost() {<span class="keywordflow">return</span> <a class="code" href="classEnvironment.html#v11">sDispatcherHost</a>;}
00113      <span class="keyword">static</span> <span class="keywordtype">int</span> getDispatcherPort() {<span class="keywordflow">return</span> <a class="code" href="classEnvironment.html#v12">sDispatcherPort</a>;}
00114 };
00115 
00116 
00117 <span class="preprocessor">#endif   // APPROXSIM_ENVIRONMENT</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Wed Jan 31 14:27:32 2007 for Approxsim by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.4 </small></address>
</body>
</html>
